// Parallax script

// var scene = document.getElementById('scene');
// var parallaxInstance = new Parallax(scene);

// Calendar script

const messages = [
	// 8.12
	["–ö–∞–∂–µ—Ç—Å—è, –∞–¥–≤–µ–Ω—Ç-–∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞—à—É –Ω–µ–±–æ–ª—å—à—É—é —Å–µ–º–µ–π–Ω—É—é –ø—Ä–µ–¥–ø—Ä–∞–∑–¥–Ω–∏—á–Ω—É—é —Ç—Ä–∞–¥–∏—Ü–∏—é, –∏ –º–Ω–µ —ç—Ç–æ, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ, –Ω—Ä–∞–≤–∏—Ç—Å—èü§© –ë—É–¥–µ–º –∫—É—à–∞—Ç—å –º–æ—Ä–æ–∂–µ–Ω–æ–µ –≤–µ—á–µ—Ä–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ–∞ –∫–æ–≥–¥–∞ –º—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –≤ –¥–µ–∫–∞–±—Ä–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ –≤–æ–æ–±—â–µ –µ–ª–∏?"],
	// 9.12
	["–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–∞–¥–≤–∏–≥–∞—é—â–µ–µ—Å—è –†–æ–∂–¥–µ—Å—Ç–≤–æ, –≤–∞–∂–Ω–æ –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –¥–æ–º –µ–≥–æ –∞—Ä–æ–º–∞—Ç–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–µ—á—å —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–µ –∏–º–±–∏—Ä–Ω—ã–µ –ø–µ—á–µ–Ω—å–∫–∏üç™"],
	// 10.12
    ["–ß—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å—Å—è –≤ —Å–æ–±—ã—Ç–∏—è—Ö —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞, –Ω–∞–º –Ω—É–∂–µ–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä—å. –ê –≤–æ—Ç –∏ –æ–Ω!üòä"],
    // 11.12
	["–í–µ—á–µ—Ä —Å –º–æ—Ä–æ–∂–µ–Ω—ã–º –∏–∑—è—Ä–¥–Ω–æ –Ω–∞—Å –æ—Ö–ª–∞–¥–∏–ª, –ø–æ—Ä–∞ —Å–æ–≥—Ä–µ—Ç—å—Å—è –∫—Ä—É–∂–µ—á–∫–æ–π –≥–æ—Ä—è—á–µ–≥–æ —à–æ–∫–æ–ª–∞–¥–∞‚úåÔ∏è"],
	// 12.12
	["–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≥—Ä–µ—Ç—å—Å—è, –Ω–æ —Å–µ–≥–æ–¥–Ω—è –≤—Å—ë –ø–æ-–≤–∑—Ä–æ—Å–ª–æ–º—É - –±–µ—Ä—ë–º —Ñ–ª—è–∂–µ—á–∫—É, –Ω–∞–ª–∏–≤–∞–µ–º —Ç—É–¥–∞ —á—Ç–æ-—Ç–æ –≤–∫—É—Å–Ω–æ–µ –∏ —Å–æ–≥—Ä–µ–≤–∞—é—â–µ–µü•É, –∏ –∏–¥—ë–º –≥—É–ª—è—Ç—å –≤ –ø–∞—Ä–∫!"],
	// 13.12
	["'–°–æ–ª–¥–∞—Ç–∏–∫ –±—ã–ª —Ç—Ä–æ–Ω—É—Ç –∏ —á—É—Ç—å –Ω–µ –∑–∞–ø–ª–∞–∫–∞–ª –æ–ª–æ–≤–æ–º, –Ω–æ —ç—Ç–æ –±—ã–ª–æ –±—ã –Ω–µ–ø—Ä–∏–ª–∏—á–Ω–æ, –∏ –æ–Ω —É–¥–µ—Ä–∂–∞–ª—Å—è.' –ì–¥–µ —Ç–∞–º –Ω–∞—à–∞ –æ–ª–æ–≤—è–Ω–Ω–∞—è –∞—Ä–º–∏—è? –ü–æ—Ä–∞ –≤–µ—Å—Ç–∏ –µ—ë –≤ –±–æ–π!üêé"],
	// 14.12
	["–ù–µ –∑–∞–±—ã–≤–∞–µ–º –æ –±—Ä–∞—Ç—å—è—Ö –Ω–∞—à–∏—Ö –º–µ–Ω—å—à–∏—Ö –∏ –∏–¥—ë–º –≤ –ø–∞—Ä–∫ –∫–æ—Ä–º–∏—Ç—å –ø—Ç–∏—á–µ–∫üê¶"],
	// 15.12
	["–ß–µ–º –∑–∞–Ω—è—Ç—å—Å—è –≤ 10 —á–∞—Å–æ–≤ –≤–µ—á–µ—Ä–∞ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ? –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Å—Ö–æ–¥–∏—Ç—å –ø–æ–ø–ø–∏—Ç—å –ø–∏–≤–∫–∞ –≤ –±–∞—Ä —Ä—è–¥–æ–º —Å –¥–æ–º–æ–º! –ö–æ–≥–¥–∞ –º—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ —Ç–∞–∫ –ø–∏–≤–æ –ø–∏–ª–∏?‚ú®‚ú®‚ú®"],
	// 16.12
	["–ü—É—Å—Ç—å –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–º–Ω–æ–∂–∫–æ —Ä–∞–¥–æ—Å—Ç–Ω–µ–µ –æ—Ç –∫—Ä–∞—Å–æ—Ç—ã, –∫–æ—Ç–æ—Ä—É—é —Å–æ–≤—Å–µ–º —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –≤–∏—Å–µ—Ç—å –Ω–∞ —Å—Ç–µ–Ω–æ—á–∫–µüåü"],
	// 17.12
	["–í —ç—Ç–æ–º –≥–æ–¥—É —É –Ω–∞—Å –≤ –∞–¥–≤–µ–Ω—Ç–µ —á—Ç–æ –Ω–∏ —É–∂–∏–Ω, —Ç–∞–∫ —á—Ç–æ-—Ç–æ –Ω–µ–æ–±—ã—á–Ω–æ–µ. –£—Å—Ç—Ä–æ–∏–º —Å–µ–≥–æ–¥–Ω—è —Å–ª–∞–¥–∫–∏–π —Å—Ç–æ–ª!üòãüç≠"],
	// 18.12
	["–°–æ–≥—Ä–µ–≤–∞–µ–º —Å–≤–æ–π –≤–µ—á–µ—Ä –∞—Ä–æ–º–∞—Ç–Ω–æ–π –∫–∞–∫–∞–≤—É—à–∫–æ–π‚òï"],
	// 19.12
	["–ß—Ç–æ-—Ç–æ –∞—Ä–æ–º–∞—Ç–Ω–æ–µ, –≤–∫—É—Å–Ω–æ–µ, –≥–æ—Ä—è—á–µ–µ –∏ –æ—á–µ–Ω—å —Å—ã—Ç–Ω–æ–µ –∂–¥—ë—Ç –Ω–∞—Å –≤–µ—á–µ—Ä–æ–º - –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç?üòúüç∫"],
	// 20.12
	["–ê –∑–∞ —Ç–æ, —á—Ç–æ –Æ—Ä–∞ —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç –æ–¥–∏–Ω –±–µ–∑ –í–∞–ª–∏ –∏ –≥—Ä—É—Å—Ç–Ω—ã–π, –¥–ª—è –Ω–µ–≥–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ–¥–∞—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–∫—Ä–∞—Å–∏—Ç –µ–≥–æ –æ–∂–∏–¥–∞–Ω–∏–µüí´"],
	// 21.12
	["–ù–µ–º–Ω–æ–≥–æ —É—Ç–µ—à–µ–Ω–∏—è –æ—Ç —Ä–∞—Å—Å—Ç–∞–≤–∞–Ω–∏—è —Å –í–∞–ª–µ–π —Å–µ–≥–æ–¥–Ω—è, –≤—Ä–æ–¥–µ –∏ –æ–±—ã—á–Ω–æ–≥–æ, –Ω–æ —Å –Ω–µ–æ–±—ã—á–Ω–æ–π –¥–æ–±–∞–≤–∫–æ–πüòä –ò—â–∏ –ø–æ–¥–∞—Ä–æ—á–µ–∫ –≤ —è—â–∏–∫–µ —Å –º–∏–∫—Å–µ—Ä–æ–ºüëÄ"],
	// 22.12
	["–ë–µ—Ä–µ–º –≤–∏–Ω–æüç∑, –¥–æ–±–∞–≤–ª—è–µ–º —Ç—É–¥–∞ —Å–ø–µ—Ü–∏–∏, —â–µ–ø–æ—Ç–∫—É –ª—é–±–≤–∏ –∏ —É–ø–æ—Ç—Ä–µ–±–ª—è–µ–º –ø–æ–¥ —É—é—Ç–Ω—ã–π —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–π —Ñ–∏–ª—å–º –†–æ–∂–¥–µ—Å—Ç–≤–æ –Ω–∞ 34 —É–ª–∏—Ü–µüòá"],
	// 23.12
	["üåü–ê —Å–µ–≥–æ–¥–Ω—è —É–∫—Ä–∞—à–∞–µ–º –æ–≥–æ–Ω—å–∫–∞–º–∏ —É–∂–µ —Å–≤–æ—ë –∂–∏–∑–Ω–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –≤–µ–¥—å —É–∂–µ —Ç–∞–∫ —Ö–æ—á–µ—Ç—Å—è —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–æ–π –∫—Ä–∞—Å–æ—Ç—ã –≤–æ–∫—Ä—É–≥!üåü"],
	// 24.12
	["–í –≥–æ—Ä–æ–¥–µ —É–∂–µ —Ä–∞–∑–≤–µ—Å–∏–ª–∏ –æ–≥–æ–Ω—å–∫–∏ –∏ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ —ë–ª–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫ –∏ –∂–¥—É—Ç, —á—Ç–æ–±—ã –º—ã —Å—Ö–æ–¥–∏–ª–∏ –Ω–∞ –Ω–∏—Ö –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—åüòè –ò –∑–∞–≥–ª—è–Ω—É—Ç—å –∫ –∫–∞—Ç–æ–ª–∏–∫–∞–º, –∫–æ–Ω–µ—á–Ω–æ –∂–µ‚õ™"],
	// 25.12
	["–ß—Ç–æ–±—ã –≤ –ù–æ–≤—ã–π –≥–æ–¥ –Ω–µ —Ç—è–Ω—É—Ç—å –Ω–µ–Ω—É–∂–Ω–æ–µ, –Ω–∞–¥–æ —ç—Ç–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –±–µ–∑ —Å–æ–∂–∞–ª–µ–Ω–∏—è. –ò–ª–∏ –≤—Å—ë –∂–µ —Å –Ω–µ–±–æ–ª—å—à–∏–º —Å–æ–∂–∞–ª–µ–Ω–∏–µ–º?ü§î"],
	// 26.12
	["–û–±—ä—è–≤–ª—è—é –¥–µ–Ω—å –Ω–æ–≤–æ–≥–æ! –ò–¥—ë–º –≤ –º–∞–≥–∞–∑–∏–Ω, –ø–æ–∫—É–ø–∞–µ–º —Ç–æ, —á—Ç–æ –Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏ –∏... –ø—Ä–æ–±—É–µ–º!üòã"],
	// 27.12
	["–†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è –ø–æ–¥ –º—É–∑—ã–∫—É —Å –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞–º–∏ –∏ —Å –∫—Ä—É–∂–µ—á–∫–æ–π –≤–∫—É—Å–Ω–æ–≥–æ —á–∞—è - —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–∫—Ä–∞—Å–Ω–µ–µ –ø–µ—Ä–µ–¥ –ù–æ–≤—ã–º –≥–æ–¥–æ–º? –ß–∏—Ç–∞–µ–º –ø–æ–≤–µ—Å—Ç—å '–ö–æ–ª–æ–∫–æ–ª–∞' –î–∏–∫–∫–µ–Ω—Å–∞üéÜ"],
	// 28.12
	["–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –Ω–∞—à–∏ —á–∏—Ç–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–µ—á–µ—Ä–∞ –ø–æ—Å–ª–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–æ–≥–æ –∫–æ–Ω—Ü–µ—Ä—Ç–∞ –≤ –ö–∏—Ä—Ö–µ‚òÉÔ∏è"],
	// 29.12
	["–î–∏–∫–∫–µ–Ω—Å –∏ —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç —Ä–∞–¥–æ–≤–∞—Ç—å –Ω–∞—Å —Å–≤–æ–µ–π –∏—Å—Ç–æ—Ä–∏–µ–πüìñ –ê —á–∏—Ç–∞—Ç—å –µ—ë –º—ã –±—É–¥–µ–º, –∫—É—à–∞—è –≤–∫—É—Å–Ω—É—é —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫—É—é –≤—ã–ø–µ—á–∫—Éü•ß"],
	// 30.12
	["–î–æ—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–µ–∫—Ä–∞—Å–Ω—É—é —Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫—É—é –ø–æ–≤–µ—Å—Ç—å –∏ –∑–∞–∫–∞—Ç—ã–≤–∞–µ–º —Å–Ω–æ–≥—Å—à–∏–±–∞—Ç–µ–ª—å–Ω—ã–π —É–∂–∏–Ω –ø—Ä–∏ —Å–≤–µ—á–∞—ÖüïØÔ∏èüïØÔ∏èüïØÔ∏è"],
	// 31.12
	["–í–æ—Ç –∏ –ö–∞–Ω—É–Ω –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞!ü•Ç –ù–∞—à –∞–¥–µ–≤–µ–Ω—Ç –ø–æ—á—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω, –¥–∞ –∏ –≥–æ–¥ —Ç–æ–∂–µü§ó –ù–∞–ø—Ä–∞–≤–∏–º –Ω–∞—à–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è –Ω–∞ –¥–æ–±—Ä–æ—Ç—É –∏ –∑–¥–æ—Ä–æ–≤—å–µ - –ª–∏—á–Ω–æ–µ –∏ –Ω–∞—à–∏—Ö —Ä–æ–¥–Ω—ã—Öü•∞ –ê —á—Ç–æ–±—ã –ø–æ–¥–∫—Ä–µ–ø–∏—Ç—å —Å–≤–æ–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è–º–∏, –æ—Ç–ø—Ä–∞–≤–∏–º –Ω–µ–±–æ–ª—å—à—É—é —Å—É–º–º—É –Ω–∞ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ç–µ—Ö, –∫–æ–º—É –≤ —ç—Ç–æ–π –∂–∏–∑–Ω–∏ –ø–æ–≤–µ–∑–ª–æ —á—É—Ç—å –º–µ–Ω—å—à–µ, —á–µ–º –Ω–∞–º‚ùÑÔ∏è‚ú®‚ùÑÔ∏è"]
];

const calendar = document.querySelector('.calendar');
const calendarList = document.querySelectorAll('.calendar__item');
const currentDate = new Date();

const popup = document.querySelector('.popup');
const popupCloseBtn = document.querySelector('.popup__close');
const popupNumber = document.querySelector('.popup__number');
const popupText = document.querySelector('.popup__text');

function closePopup() {
    popup.classList.add('hidden');
}
popupCloseBtn.addEventListener('click', closePopup);

calendarList.forEach(item => {
	const itemNumber = item.dataset.number;

	if ((currentDate.getDate() - 7) === +itemNumber || (currentDate.getDate() - 7) > +itemNumber) {
		item.classList.remove('used');
	} else if (currentDate === 1 && +itemNumber === 24) {
        item.classList.remove('used');
    } else {
		item.classList.add('used');
	}
})

calendar.addEventListener('click', (event) => {
	popup.classList.remove('hidden');
	const elemNumber = Number(event.target.dataset.number);

	if (event.target.classList.contains('used')) {
		closePopup();
	}
	for (let i = 0; i < messages.length; i++) {
		if (elemNumber === i) {
			popupText.innerText = messages[i - 1];
			popupNumber.innerText = i;
		} 
		if (elemNumber === 24) {
			popupText.innerText = messages[23];
			popupNumber.innerText = 24;
		}
	}
});

// Background script

function getRandomNum(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

let randomNum = getRandomNum(1, 8);

function setBg() {
    const bgNum = String(randomNum);
    const body = document.body;
	body.style.backgroundImage = `url(images/backgrounds/bg${bgNum}.jpg)`;
}

setBg();

// Audio player
const audio = document.querySelector('audio');
const playBtn = document.querySelector('.audio__icon');
let isPlay = false;
let randomAudio = +getRandomNum(1, 6);
audio.src = `audio/${randomAudio}.mp3`;

function playAudio() {
    // –ï—Å–ª–∏ –∞—É–¥–∏–æ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–∞—á–∏–Ω–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    if (!isPlay) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∞—É–¥–∏–æ –Ω–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
        audio.play().then(() => {
            isPlay = true;
            playBtn.classList.remove('pause');
        }).catch(err => {
            console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ –∞—É–¥–∏–æ:", err);
        });
    } else {
        // –ï—Å–ª–∏ –∞—É–¥–∏–æ —É–∂–µ –∏–≥—Ä–∞–µ—Ç, —Å—Ç–∞–≤–∏–º –µ–≥–æ –Ω–∞ –ø–∞—É–∑—É
        audio.pause();
        isPlay = false;
        playBtn.classList.add('pause');
    }
}
playBtn.addEventListener('click', playAudio);

// Change text bird
const littleBird = document.querySelector('.bird_second');
const textBird = document.querySelector('.bird-text');

function changeTextBird() {
    littleBird.classList.add('active');
    textBird.innerHTML = '–ü—Ä–∏–≤–µ—Ç!';
    textBird.style.right = '-65px';
}
littleBird.addEventListener('mouseenter', changeTextBird);